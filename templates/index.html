<!DOCTYPE html>
<html lang="en">

<head>

	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<meta name="description" content="">
	<meta name="author" content="">

	<title>Naver Movie Word Cloud</title>

	<!-- CSS -->

	<link rel="stylesheet" href="{{ url_for('static', filename = 'css/main.css') }}">
	<link rel="stylesheet" href="{{ url_for('static', filename = 'css/landing-page.min.css') }}">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.4/pagination.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/paginationjs/2.1.4/pagination.css"/>

</head>

<body>
<form id="upload" action="/predict" method="POST" enctype="multipart/form-data">

	<!-- Wrapper -->
	<div>
		<!-- Main -->
		<div id="main">

			<!-- 메인 포스트 -->
			<article class="post featured">
				<header class="major">
					<span class="date">Naver Review Analyze</span>
					<h2 style="font-size:3rem;mar;line-height: 1.5">영화에 대한 사람들의 속마음,<br>
						Data로 보여드립니다</h2>
				</header>

				<!-- 버튼 넣기 -->
				<div class="col-md-10 col-lg-8 col-xl-7 mx-auto">
					<div class="form-row">
						<div class="col-12 col-md-9 mb-2 mb-md-0" style="background-color:#d8d7d9">
							<input name="url" type="text" class="form-control form-control-lg" placeholder="네이버 영화 URL을 넣어주세요">
						</div>
						<div class="col-12 col-md-3">
							<br><button type="submit" class="btn btn-block btn-lg btn-primary">Click!</button>
						</div>
					</div>
				</div>


			</article>

			<!-- Posts -->
			<section class="posts">
				<article>
					<header>
						<h2><a href="#">영화 포스터</a></h2>
					</header>
					<a href="#" class="image fit">
						{% if url %}
							<img src="{{ url_for('static', filename=image_file) }}" style="width:100%;height:100%"></a>

						{% else %}
							<img src="{{ url_for('static', filename = '/images/poster.jpg') }}"></a>
						{% endif %}
						<p></p>
				</article>
				<article>
					<header>
						<h2><a href="#">긍정/부정 비율</a></h2>
					</header>
					<a href="#" class="image fit">
						{% if url %}
							<img src="{{ url_for('static', filename = '/images/pos_neg_ratio.png') }}"style="width:100%;height:100%"></a>
						{% else %}
							<img src="{{ url_for('static', filename = '/images/example_ratio.png') }}"></a>
						{% endif %}
					<p></p>
				</article>
				<article>
					<header>
						<h2><a href="#">긍정 Word Cloud</a></h2>
					</header>
					<a href="#" class="image fit">
						{% if url %}
							<img src="{{ url_for('static', filename = '/images/positive.png') }}"></a>
						{% else %}
							<img src="{{ url_for('static', filename = '/images/wc_p.png') }}"></a>
						{% endif %}
					<p></p>
				</article>
				<article>
					<header>
						<h2><a href="#">부정 Word Cloud</a></h2>
					</header>
					<a href="#" class="image fit">
						{% if url %}
							<img src="{{ url_for('static', filename = '/images/negative.png') }}"></a>
						{% else %}
							<img src="{{ url_for('static', filename = '/images/wc_n.png') }}"></a>
						{% endif %}
					<p></p>
				</article>
			</section>
			<!-- 게시판 -->

			<div class="container-fluid p-0">
				<table class="table table-striped" style="width:100%;margin:auto">
					<thead>
					<tr>
						<th style="text-align:center;width:20%;font-size:18pt;font-weight:bold">분류</th>
						<th style="text-align:center;width:60%;font-size:18pt;font-weight:bold">리뷰 내용</th>
						<th style="text-align:center;width:20%;font-size:18pt;font-weight:bold">정확도</th>
					</tr>
					</thead>
					<tbody>
						<span>
						   {% for review, label, score in final_result %}
							{% if score == '긍정'%}
								<tr>
								<td style="text-align: center; color:#5AD519;vertical-align: middle;font-size:16pt; font-weight:bold">{{score}}</td>
								<td style="vertical-align: middle;font-size:14pt">{{review}} </td>
								<td style="text-align: center; vertical-align: middle;font-size:16pt">{{label}}</td>
								</tr>
							{% elif score == '부정'%}
								<tr>
								<td style="text-align: center; color:#E61C12; vertical-align: middle;font-size:16pt;font-weight:bold">{{score}}</td>
								<td style="vertical-align: middle;font-size:14pt">{{review}} </td>
								<td style="text-align: center; vertical-align: middle;font-size:16pt">{{label}}</td>
								</tr>
							{% endif %}
						   {% endfor %}
						</span>
					</tbody>
				</table>
				<div class="container">
					<div class="row">
						<div class="col">
							<ul class="pagination">
								<li class="page-item"><a class="page-link" href="#">Previous</a></li>
								<li class="page-item"><a class="page-link" href="#">1</a></li>
								<li class="page-item"><a class="page-link" href="#">2</a></li>
								<li class="page-item"><a class="page-link" href="#">3</a></li>
								<li class="page-item"><a class="page-link" href="#">4</a></li>
								<li class="page-item"><a class="page-link" href="#">5</a></li>
								<li class="page-item"><a class="page-link" href="#">Next</a></li>
							</ul>
						</div>
					</div>
				</div>
			</div>
	</div>
	<div>
</div>
	</div>
	<div>
    <section>
        <div id="data-container"></div>

        <div id="pagination"></div>
    </section>
</div>

</form>

<script>
$(function () {
        let container = $('#pagination');
        container.pagination({
            dataSource :[
             {name: ['{{ final_result }}'] },
              {name: "hello1"},
               {name: "hello1"},]
             ,

            pageSize: 100,

           callback: function (data, pagination) {
                var dataHtml = '<ul>';

                $.each(data, function (index, item) {
                    dataHtml += '<li>' + item.name + '</li>';
                });

                dataHtml += '</ul>';
				$("#data-container").html(dataHtml);
            }
        })
    })
</script>
</body>
</html>